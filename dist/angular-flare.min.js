!function(a,b){function c(a){this.$timeout=a,this.counter=0,this.levels=["error","warn","info","success"],this.levelClasses={},this.levelClasses.error=["alert alert-danger alert-dismissable"],this.levelClasses.warn=["alert alert-warning alert-dismissable"],this.levelClasses.success=["alert alert-success alert-dismissable"],this.levelClasses.info=["alert alert-info alert-dismissable"],this.init()}function d(a){function b(b){a.subscribe("message",function(){a.startTimers()}),b.flareMessages=a.messages,b.dismiss=function(b){a.dismiss(b)},b.classes=function(b){if(b){var c=b.level,d=a.levelClasses[c]||[];return d.join(":true,")}},a.startTimers()}return{templateUrl:"directives/flaremessages/index.tpl.html",restrict:"EA",replace:!1,scope:{},controller:["$scope",b]}}b.module("angular-flare",["templates-angular-flare"]),c.prototype.init=c.prototype.clear=function(){function a(a){return function(b,d){c.messages[c.counter++]={content:b,level:a,ttl:d},c.notify("message",a,b,d)}}this.subscribers=[],this.messages={};var c=this;return b.forEach(this.levels,function(b){c[b]=a(b)}),this},c.prototype.empty=function(a){var c=this;return b.forEach(this.messages,function(b,d){a!==c.messages[d].level&&a||c.dismiss(d)}),this},c.prototype.dismiss=function(a){var b=this.messages[a];return b&&(b.timeout&&this.$timeout.cancel(b.timeout),delete this.messages[a],this.notify("dismiss",b)),this},c.prototype.subscribe=function(a,b){this.subscribers.push([a,b])},c.prototype.unsubscribe=function(a){var c=this;return b.forEach(this.subscribers,function(b,d){b===a&&c.subscribers.splice(d,1)}),this},c.prototype.notify=function(a){var c=Array.prototype.slice.call(arguments);return c.shift(),b.forEach(this.subscribers,function(b){var d=b[0],e=b[1];return a===d?e.apply(null,c):void 0}),this},c.prototype.startTimers=function(){var a=this;b.forEach(this.messages,function(b,c){b&&b.ttl&&!b.timeout&&(b.timeout=a.$timeout(function(){delete a.messages[c],a.notify("timeout",b)},b.ttl))})},b.module("angular-flare").service("flare",["$timeout",c]),b.module("angular-flare").directive("flareMessages",["flare","$timeout",d]),b.module("templates-angular-flare",["directives/flaremessages/index.tpl.html"]),b.module("directives/flaremessages/index.tpl.html",[]).run(["$templateCache",function(a){a.put("directives/flaremessages/index.tpl.html",'<div ng-repeat="(key,message) in flareMessages" ng-class="classes(message)">\n  <button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="dismiss(key)">&times;</button>\n  {{ message.content }}\n</div>\n')}])}(window,window.angular);